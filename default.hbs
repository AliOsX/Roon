<!DOCTYPE html>
<html>
<head>
    {{! Document Settings }}
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    {{! Page Meta }}
    <title>{{meta_title}}</title>
    <meta name="description" content="{{meta_description}}" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="{{asset "favicon.ico"}}">

    {{! Styles'n'Scripts }}
    <link rel="stylesheet" type="text/css" href="{{asset "css/screen.css"}}" />

    {{! Ghost outputs important style and meta data with this tag }}
    {{ghost_head}}
</head>
<body class="{{body_class}} {{#is 'index, tag, author'}}user{{/is}}">

    {{! Everything else gets inserted here }}
    {{{body}}}

    {{!--
    <footer class="site-footer clearfix">
         <section class="copyright"><a href="{{@blog.url}}">{{@blog.title}}</a> &copy; {{date format="YYYY"}}</section>
         <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
    </footer>
    --}}

    {{! Ghost outputs important scripts and data with this tag }}
    {{ghost_foot}}

    {{#is 'post'}}
    <script>
        function get_text(el) {
            ret = "";
            var length = el.childNodes.length;
            for(var i = 0; i < length; i++) {
                var node = el.childNodes[i];
                if(node.nodeType != 8) {
                    ret += node.nodeType != 1 ? node.nodeValue : get_text(node);
                }
            }
            return ret;
        }

        window.onload = function () {
            var words = get_text(document.getElementById('js-post-content')),
                count = words.split(/\s+/).length,
                read_time = Math.ceil((count / 150)),
                read_time_node = document.createTextNode(read_time + ' min read');
            document.getElementById('js-reading-time').appendChild(read_time_node);
        }

    </script>
    {{/is}}

</body>
</html>
